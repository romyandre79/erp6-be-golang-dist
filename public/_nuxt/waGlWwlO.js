import{y as U,a as j,B as r,ak as a,an as f,a_ as e,aN as x,b0 as p,b1 as g,bk as P,Y as w,ay as $,p as D,bd as S,r as h,w as N,b5 as V,am as b,b7 as z,b8 as I,aM as y,aj as O}from"./DH2n3Tqk.js";import"#entry";/* empty css        */import"./KobTAp13.js";import"./BXI2M5or.js";import"./B3hjldT8.js";const R={class:"h-full flex flex-col bg-white p-4 overflow-auto"},B={key:0,class:"space-y-4"},M={class:"text-lg font-semibold"},q={class:"flex gap-2 mt-1"},E={class:"mt-2 space-y-2"},J=["onUpdate:modelValue"],L=["onUpdate:modelValue"],Z=["onUpdate:modelValue"],G=["onUpdate:modelValue"],F=["onClick"],Y={class:"flex gap-2"},H={class:"flex gap-2 mt-1"},K={class:"mt-4"},Q={key:0},W={class:"text-sm"},X={class:"flex gap-2"},_=["onClick"],ee={key:1,class:"text-gray-400 text-sm"},te=U({__name:"PropertiesPanel",props:{selectedTable:{},relations:{},jsonPreview:{}},emits:["ai-parse","remove-column","add-column","ai-suggest-types","apply-json","copy-json","remove-relation","update:jsonPreview"],setup(n,{emit:C}){const k=n,T=C,u=j({get:()=>k.jsonPreview,set:d=>T("update:jsonPreview",d)});return(d,o)=>(a(),r("div",R,[n.selectedTable?(a(),r("div",B,[e("h2",M,"Properties — "+x(n.selectedTable.name||"Untitled"),1),e("div",null,[o[11]||(o[11]=e("label",{class:"text-sm text-gray-600"},"Table Name",-1)),p(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>n.selectedTable.name=l),class:"w-full mt-1 p-2 border rounded"},null,512),[[g,n.selectedTable.name]])]),e("div",null,[o[12]||(o[12]=e("label",{class:"text-sm text-gray-600"},"Comment",-1)),p(e("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>n.selectedTable.comment=l),class:"w-full mt-1 p-2 border rounded"},null,512),[[g,n.selectedTable.comment]])]),e("div",null,[o[13]||(o[13]=e("label",{class:"text-sm text-gray-600"},"Is Published",-1)),p(e("input",{type:"checkbox","onUpdate:modelValue":o[2]||(o[2]=l=>n.selectedTable.ispublished=l),class:"w-full mt-1 p-2 border rounded"},null,512),[[P,n.selectedTable.ispublished]])]),e("div",null,[o[14]||(o[14]=e("label",{class:"text-sm text-gray-600"},"Position",-1)),e("div",q,[p(e("input",{type:"number","onUpdate:modelValue":o[3]||(o[3]=l=>n.selectedTable.x=l),class:"w-1/3 p-2 border rounded"},null,512),[[g,n.selectedTable.x,void 0,{number:!0}]]),p(e("input",{type:"number","onUpdate:modelValue":o[4]||(o[4]=l=>n.selectedTable.y=l),class:"w-1/3 p-2 border rounded"},null,512),[[g,n.selectedTable.y,void 0,{number:!0}]]),p(e("input",{type:"number","onUpdate:modelValue":o[5]||(o[5]=l=>n.selectedTable.width=l),class:"w-1/3 p-2 border rounded"},null,512),[[g,n.selectedTable.width,void 0,{number:!0}]])])]),e("div",null,[o[16]||(o[16]=e("label",{class:"text-sm text-gray-600"},"Columns",-1)),e("div",E,[(a(!0),r(w,null,$(n.selectedTable.columns,(l,c)=>(a(),r("div",{key:c,class:"flex items-center gap-2"},[p(e("input",{"onUpdate:modelValue":v=>l.name=v,placeholder:"name",class:"flex-1 p-2 border rounded"},null,8,J),[[g,l.name]]),p(e("select",{"onUpdate:modelValue":v=>l.type=v,placeholder:"type",class:"w-36 p-2 border rounded"},[...o[15]||(o[15]=[D('<option value="auto">Auto Increment</option><option value="text">Text</option><option value="longtext">Long Text</option><option value="number">Number</option><option value="integer">Integer</option><option value="timestamp">Time stamp</option><option value="boolean">Boolean</option>',7)])],8,L),[[S,l.type]]),p(e("input",{type:"checkbox","onUpdate:modelValue":v=>l.allownull=v,placeholder:"type",class:"w-36 p-2 border rounded"},null,8,Z),[[P,l.allownull]]),p(e("input",{"onUpdate:modelValue":v=>l.default=v,placeholder:"default",class:"flex-1 p-2 border rounded"},null,8,G),[[g,l.default]]),e("button",{onClick:v=>d.$emit("remove-column",c),class:"px-2 py-1 bg-red-500 text-white rounded"},"-",8,F)]))),128)),e("div",Y,[e("button",{onClick:o[6]||(o[6]=l=>d.$emit("add-column")),class:"px-3 py-1 bg-blue-600 text-white rounded"},"Add Column"),e("button",{onClick:o[7]||(o[7]=l=>d.$emit("ai-suggest-types",n.selectedTable)),class:"px-3 py-1 bg-yellow-500 text-white rounded"}," AI Suggest Types ")])])]),e("div",null,[o[17]||(o[17]=e("label",{class:"text-sm text-gray-600"},"Raw JSON",-1)),p(e("textarea",{"onUpdate:modelValue":o[8]||(o[8]=l=>u.value=l),rows:"6",class:"w-full p-2 border rounded mt-1 text-xs font-mono"},null,512),[[g,u.value]]),e("div",H,[e("button",{onClick:o[9]||(o[9]=l=>d.$emit("apply-json",u.value)),class:"px-3 py-1 bg-green-600 text-white rounded text-xs"}," Apply "),e("button",{onClick:o[10]||(o[10]=l=>d.$emit("copy-json",u.value)),class:"px-3 py-1 bg-gray-500 text-white rounded text-xs"}," Copy ")])])])):f("",!0),e("div",K,[o[18]||(o[18]=e("h3",{class:"font-semibold"},"Relations",-1)),n.relations.length?(a(),r("div",Q,[(a(!0),r(w,null,$(n.relations,l=>(a(),r("div",{key:l.id,class:"flex items-center justify-between mt-2"},[e("div",W,x(l.from.table)+"."+x(l.from.col)+" ➜ "+x(l.to.table)+"."+x(l.to.col??"-"),1),e("div",X,[e("button",{onClick:c=>d.$emit("remove-relation",l.id),class:"px-2 py-1 bg-red-500 text-white rounded"}," Delete ",8,_)])]))),128))])):(a(),r("div",ee,"No relations"))])]))}}),se=Object.assign(te,{__name:"PropertiesPanel"}),oe={class:"h-full flex flex-row bg-white text-gray-900 shadow-sm border-r"},le={class:"panel w-12 flex flex-col items-center py-2 border-r border-gray-700 z-20"},ne=["onClick","title"],ie={key:0,class:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500"},ae={class:"w-80 flex flex-col border-r transition-all duration-300 ease-in-out"},re={class:"p-3 border-b flex justify-between items-center"},de={class:"font-semibold text-sm uppercase text-gray-600"},ue={class:"flex-1 overflow-auto p-3"},me={key:0,class:"space-y-4"},be={class:"grid grid-cols-1 gap-2"},pe={class:"mt-4"},ve={class:"flex gap-2 mt-1"},ge={class:"grid grid-cols-2 gap-2"},xe={class:"grid grid-cols-2 gap-2"},ye={key:1},ce={class:"space-y-1 mb-4"},fe=["onClick"],we={class:"truncate"},$e={class:"space-y-1"},ke={class:"truncate"},Ce={key:2,class:"h-full"},Te={key:1,class:"text-gray-500 text-sm italic text-center mt-10"},je=U({__name:"DbObjectSidebar",props:{tables:{},areas:{},selectedTable:{},relations:{},jsonPreview:{},aiDescription:{}},emits:["add-table","add-area","save","reset","ai-suggest","select-table","zoom-in","zoom-out","reset-zoom","export-png","update:jsonPreview","update:aiDescription","ai-parse","remove-column","add-column","ai-suggest-types","apply-json","copy-json","remove-relation"],setup(n,{emit:C}){const k=n,T=C,u=h("toolbox"),d=h(!0),o=[{id:"toolbox",label:"Toolbox",icon:"heroicons:squares-plus"},{id:"explorer",label:"Explorer",icon:"heroicons:list-bullet"},{id:"properties",label:"Properties",icon:"heroicons:cog-6-tooth"}],l=j(()=>o.find(i=>i.id===u.value)?.label||"");function c(i){u.value===i?d.value=!d.value:(u.value=i,d.value=!0)}N(()=>k.selectedTable,i=>{i&&(u.value="properties",d.value=!0)});const v=j({get:()=>k.aiDescription,set:i=>T("update:aiDescription",i)});return(i,t)=>{const m=z;return a(),r("div",oe,[e("div",le,[(a(),r(w,null,$(o,s=>e("button",{key:s.id,class:V(["w-full relative flex justify-center py-3 mb-1 hover:bg-gray-700 transition-colors",u.value===s.id&&d.value?"text-white":"text-gray-400 hover:text-gray-200"]),onClick:A=>c(s.id),title:s.label},[u.value===s.id&&d.value?(a(),r("div",ie)):f("",!0),b(m,{name:s.icon,class:"w-6 h-6"},null,8,["name"])],10,ne)),64))]),p(e("div",ae,[e("div",re,[e("span",de,x(l.value),1),e("button",{onClick:t[0]||(t[0]=s=>d.value=!1),class:"text-gray-500 hover:text-gray-700"},[b(m,{name:"heroicons:x-mark",class:"w-4 h-4"})])]),e("div",ue,[u.value==="toolbox"?(a(),r("div",me,[e("div",null,[t[25]||(t[25]=e("h3",{class:"font-semibold text-sm text-gray-700 mb-2 uppercase tracking-wider"},"Actions",-1)),e("div",be,[e("button",{onClick:t[1]||(t[1]=s=>i.$emit("add-table")),class:"flex items-center gap-2 px-3 py-2 bg-white border rounded hover:bg-gray-50 text-sm"},[b(m,{name:"heroicons:table-cells",class:"w-5 h-5 text-green-600"}),t[21]||(t[21]=e("span",null,"Add Table",-1))]),e("button",{onClick:t[2]||(t[2]=s=>i.$emit("add-area",s)),class:"flex items-center gap-2 px-3 py-2 bg-white border rounded hover:bg-gray-50 text-sm"},[b(m,{name:"heroicons:square-3-stack-3d",class:"w-5 h-5 text-purple-600"}),t[22]||(t[22]=e("span",null,"Add Area",-1))]),e("button",{onClick:t[3]||(t[3]=s=>i.$emit("ai-suggest")),class:"flex items-center gap-2 px-3 py-2 bg-white border rounded hover:bg-gray-50 text-sm"},[b(m,{name:"heroicons:building-library",class:"w-5 h-5 text-purple-500"}),t[23]||(t[23]=e("span",null,"AI Suggest Relations",-1))])]),e("div",pe,[t[24]||(t[24]=e("label",{class:"text-sm font-semibold"},"AI Prompt",-1)),e("div",ve,[p(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>v.value=s),placeholder:"e.g. Customer table with id, name, email",class:"flex-1 p-2 border rounded"},null,512),[[g,v.value]]),e("button",{onClick:t[5]||(t[5]=s=>i.$emit("ai-parse",v.value)),class:"px-3 py-1 bg-yellow-500 text-white rounded"}," Generate ")])])]),e("div",null,[t[28]||(t[28]=e("h3",{class:"font-semibold text-sm text-gray-700 mb-2 uppercase tracking-wider"},"Project",-1)),e("div",ge,[e("button",{onClick:t[6]||(t[6]=s=>i.$emit("save")),class:"flex flex-col border items-center justify-center p-2 bg-green-600 text-white rounded hover:bg-green-700 text-xs"},[b(m,{name:"heroicons:bookmark-square",class:"w-5 h-5 mb-1"}),t[26]||(t[26]=y(" Save ",-1))]),e("button",{onClick:t[7]||(t[7]=s=>i.$emit("reset")),class:"flex flex-col border items-center justify-center p-2 bg-red-500 text-white rounded hover:bg-red-600 text-xs"},[b(m,{name:"heroicons:arrows-right-left",class:"w-5 h-5 mb-1"}),t[27]||(t[27]=y(" Reset ",-1))])])]),e("div",null,[t[33]||(t[33]=e("h3",{class:"font-semibold text-sm text-gray-700 mb-2 uppercase tracking-wider"},"View",-1)),e("div",xe,[e("button",{onClick:t[8]||(t[8]=s=>i.$emit("zoom-in")),class:"p-2 bg-white border rounded hover:bg-gray-50 text-xs flex flex-col items-center"},[b(m,{name:"heroicons:magnifying-glass-plus",class:"w-4 h-4 mb-1"}),t[29]||(t[29]=y(" Zoom In ",-1))]),e("button",{onClick:t[9]||(t[9]=s=>i.$emit("zoom-out")),class:"p-2 bg-white border rounded hover:bg-gray-50 text-xs flex flex-col items-center"},[b(m,{name:"heroicons:magnifying-glass-minus",class:"w-4 h-4 mb-1"}),t[30]||(t[30]=y(" Zoom Out ",-1))]),e("button",{onClick:t[10]||(t[10]=s=>i.$emit("reset-zoom")),class:"p-2 bg-white border rounded hover:bg-gray-50 text-xs flex flex-col items-center col-span-2"},[b(m,{name:"heroicons:arrows-right-left",class:"w-4 h-4 mb-1"}),t[31]||(t[31]=y(" Reset Zoom ",-1))]),e("button",{onClick:t[11]||(t[11]=s=>i.$emit("export-png")),class:"p-2 bg-indigo-500 border text-white rounded hover:bg-indigo-600 text-xs flex flex-col items-center col-span-2"},[b(m,{name:"heroicons:bars-4",class:"w-4 h-4 mb-1"}),t[32]||(t[32]=y(" Export PNG ",-1))])])])])):f("",!0),u.value==="explorer"?(a(),r("div",ye,[t[34]||(t[34]=e("h3",{class:"font-semibold text-sm text-gray-700 mb-2 uppercase tracking-wider"},"Tables",-1)),e("ul",ce,[(a(!0),r(w,null,$(n.tables,s=>(a(),r("li",{key:s.id,onClick:A=>i.$emit("select-table",s.id),class:V(["px-2 py-1 rounded cursor-pointer text-sm hover:bg-gray-200 flex items-center gap-2",{"bg-blue-100 text-blue-700":n.selectedTable?.id===s.id}])},[b(m,{name:"heroicons:table-cells",class:"w-4 h-4 text-gray-500"}),e("span",we,x(s.name),1)],10,fe))),128))]),t[35]||(t[35]=e("h3",{class:"font-semibold text-sm text-gray-700 mb-2 uppercase tracking-wider"},"Areas",-1)),e("ul",$e,[(a(!0),r(w,null,$(n.areas,s=>(a(),r("li",{key:s.id,class:"px-2 py-1 rounded cursor-pointer text-sm hover:bg-gray-200 flex items-center gap-2"},[b(m,{name:"heroicons:square-3-stack-3d",class:"w-4 h-4 text-gray-500"}),e("span",ke,x(s.name),1)]))),128))])])):f("",!0),u.value==="properties"?(a(),r("div",Ce,[n.selectedTable?(a(),O(se,{key:0,selectedTable:n.selectedTable,relations:n.relations,jsonPreview:n.jsonPreview,aiDescription:n.aiDescription,"onUpdate:jsonPreview":t[12]||(t[12]=s=>i.$emit("update:jsonPreview",s)),"onUpdate:aiDescription":t[13]||(t[13]=s=>i.$emit("update:aiDescription",s)),onAiParse:t[14]||(t[14]=s=>i.$emit("ai-parse",s)),onRemoveColumn:t[15]||(t[15]=s=>i.$emit("remove-column",s)),onAddColumn:t[16]||(t[16]=s=>i.$emit("add-column")),onAiSuggestTypes:t[17]||(t[17]=s=>i.$emit("ai-suggest-types",s)),onApplyJson:t[18]||(t[18]=s=>i.$emit("apply-json",s)),onCopyJson:t[19]||(t[19]=s=>i.$emit("copy-json",s)),onRemoveRelation:t[20]||(t[20]=s=>i.$emit("remove-relation",s))},null,8,["selectedTable","relations","jsonPreview","aiDescription"])):(a(),r("div",Te," Select a table to view properties. "))])):f("",!0)])],512),[[I,d.value]])])}}}),Se=Object.assign(je,{__name:"DbObjectSidebar"});export{Se as default};
