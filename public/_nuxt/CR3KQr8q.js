import{j as de,k as ce,l as fe,m as oe,n as z,b as pe,e as ve,c as me,u as ye,a as E,o as ge,p as Y,P as ae,d as _e}from"./nBeXhCDW.js";import{s as L,k as B,A as se,aK as he,O as ne,aj as be,e as w,L as De,M as y,g as n,C as g,o as v,w as m,N as O,j as Ce,aq as X,l as re,b as x,h as C,aw as j,ax as V,Q as we,R as Oe,aJ as G,D as A,aM as Ee,d as S,t as I,c as K,a as qe}from"#entry";import{P as $,t as J}from"./BtOf2Fb3.js";import{f as F,g as M,A as N,b as Be,c as ke,d as U,E as Q,e as Ae,D as Fe,T as Pe,u as $e,a as Me,V as Se}from"./up-bPkeT.js";import{u as H}from"./C_kpcGSt.js";import{_ as Ie}from"./on0lOAqo.js";import{r as Te}from"./CMWow-hH.js";const Re={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},Le=de(()=>{const t=B(new Map),o=B(),e=L(()=>{for(const f of t.value.values())if(f)return!0;return!1}),s=fe({scrollBody:B(!0)});let a=null;const p=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=o.value??"",z&&a?.(),o.value=void 0};return se(e,(f,c)=>{if(!oe)return;if(!f){c&&p();return}o.value===void 0&&(o.value=document.body.style.overflow);const i=window.innerWidth-document.documentElement.clientWidth,d={padding:i,margin:0},l=s.scrollBody?.value?typeof s.scrollBody.value=="object"?he({padding:s.scrollBody.value.padding===!0?i:s.scrollBody.value.padding,margin:s.scrollBody.value.margin===!0?i:s.scrollBody.value.margin},d):d:{padding:0,margin:0};i>0&&(document.body.style.paddingRight=typeof l.padding=="number"?`${l.padding}px`:String(l.padding),document.body.style.marginRight=typeof l.margin=="number"?`${l.margin}px`:String(l.margin),document.documentElement.style.setProperty("--scrollbar-width",`${i}px`),document.body.style.overflow="hidden"),z&&(a=pe(document,"touchmove",r=>Ke(r),{passive:!1})),ne(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),t});function xe(t){const o=Math.random().toString(36).substring(2,7),e=Le();e.value.set(o,t??!1);const s=L({get:()=>e.value.get(o)??!1,set:a=>e.value.set(o,a)});return ce(()=>{e.value.delete(o)}),s}function le(t){const o=window.getComputedStyle(t);if(o.overflowX==="scroll"||o.overflowY==="scroll"||o.overflowX==="auto"&&t.clientWidth<t.scrollWidth||o.overflowY==="auto"&&t.clientHeight<t.scrollHeight)return!0;{const e=t.parentNode;return!(e instanceof Element)||e.tagName==="BODY"?!1:le(e)}}function Ke(t){const o=t||window.event,e=o.target;return e instanceof Element&&le(e)?!1:o.touches.length>1?!0:(o.preventDefault&&o.cancelable&&o.preventDefault(),!1)}var Ne=function(t){if(typeof document>"u")return null;var o=Array.isArray(t)?t[0]:t;return o.ownerDocument.body},P=new WeakMap,T=new WeakMap,R={},W=0,ue=function(t){return t&&(t.host||ue(t.parentNode))},Ue=function(t,o){return o.map(function(e){if(t.contains(e))return e;var s=ue(e);return s&&t.contains(s)?s:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e})},We=function(t,o,e,s){var a=Ue(o,Array.isArray(t)?t:[t]);R[e]||(R[e]=new WeakMap);var p=R[e],f=[],c=new Set,i=new Set(a),d=function(r){!r||c.has(r)||(c.add(r),d(r.parentNode))};a.forEach(d);var l=function(r){!r||i.has(r)||Array.prototype.forEach.call(r.children,function(u){if(c.has(u))l(u);else try{var _=u.getAttribute(s),b=_!==null&&_!=="false",h=(P.get(u)||0)+1,D=(p.get(u)||0)+1;P.set(u,h),p.set(u,D),f.push(u),h===1&&b&&T.set(u,!0),D===1&&u.setAttribute(e,"true"),b||u.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",u,k)}})};return l(o),c.clear(),W++,function(){f.forEach(function(r){var u=P.get(r)-1,_=p.get(r)-1;P.set(r,u),p.set(r,_),u||(T.has(r)||r.removeAttribute(s),T.delete(r)),_||r.removeAttribute(e)}),W--,W||(P=new WeakMap,P=new WeakMap,T=new WeakMap,R={})}},je=function(t,o,e){e===void 0&&(e="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),a=Ne(t);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),We(s,a,e,"aria-hidden")):function(){return null}};function Ve(t){let o;se(()=>ve(t),e=>{e?o=je(e):o&&o()}),be(()=>{o&&o()})}const[q,He]=me("DialogRoot");var Ye=w({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:o}){const e=t,a=ye(e,"open",o,{defaultValue:e.defaultOpen,passive:e.open===void 0}),p=B(),f=B(),{modal:c}=De(e);return He({open:a,modal:c,openModal:()=>{a.value=!0},onOpenChange:i=>{a.value=i},onOpenToggle:()=>{a.value=!a.value},contentId:"",titleId:"",descriptionId:"",triggerElement:p,contentElement:f}),(i,d)=>y(i.$slots,"default",{open:n(a),close:()=>a.value=!1})}}),ze=Ye,Xe=w({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const o=t;E();const e=q();return(s,a)=>(v(),g(n($),O(o,{type:s.as==="button"?"button":void 0,onClick:a[0]||(a[0]=p=>n(e).onOpenChange(!1))}),{default:m(()=>[y(s.$slots,"default")]),_:3},16,["type"]))}}),Ge=Xe;const Je=ge(()=>B([]));function Qe(){const t=Je();return{add(o){const e=t.value[0];o!==e&&e?.pause(),t.value=Z(t.value,o),t.value.unshift(o)},remove(o){t.value=Z(t.value,o),t.value[0]?.resume()}}}function Z(t,o){const e=[...t],s=e.indexOf(o);return s!==-1&&e.splice(s,1),e}function Ze(t){return t.filter(o=>o.tagName!=="A")}var et=w({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(t,{emit:o}){const e=t,s=o,{currentRef:a,currentElement:p}=E(),f=B(null),c=Qe(),i=Ce({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});X(l=>{if(!oe)return;const r=p.value;if(!e.trapped)return;function u(D){if(i.paused||!r)return;const k=D.target;r.contains(k)?f.value=k:F(f.value,{select:!0})}function _(D){if(i.paused||!r)return;const k=D.relatedTarget;k!==null&&(r.contains(k)||F(f.value,{select:!0}))}function b(D){r.contains(f.value)||F(r)}document.addEventListener("focusin",u),document.addEventListener("focusout",_);const h=new MutationObserver(b);r&&h.observe(r,{childList:!0,subtree:!0}),l(()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",_),h.disconnect()})}),X(async l=>{const r=p.value;if(await ne(),!r)return;c.add(i);const u=M();if(!r.contains(u)){const b=new CustomEvent(N,Q);r.addEventListener(N,h=>s("mountAutoFocus",h)),r.dispatchEvent(b),b.defaultPrevented||(Be(Ze(ke(r)),{select:!0}),M()===u&&F(r))}l(()=>{r.removeEventListener(N,D=>s("mountAutoFocus",D));const b=new CustomEvent(U,Q),h=D=>{s("unmountAutoFocus",D)};r.addEventListener(U,h),r.dispatchEvent(b),setTimeout(()=>{b.defaultPrevented||F(u??document.body,{select:!0}),r.removeEventListener(U,h),c.remove(i)},0)})});function d(l){if(!e.loop&&!e.trapped||i.paused)return;const r=l.key==="Tab"&&!l.altKey&&!l.ctrlKey&&!l.metaKey,u=M();if(r&&u){const _=l.currentTarget,[b,h]=Ae(_);b&&h?!l.shiftKey&&u===h?(l.preventDefault(),e.loop&&F(b,{select:!0})):l.shiftKey&&u===b&&(l.preventDefault(),e.loop&&F(h,{select:!0})):u===_&&l.preventDefault()}}return(l,r)=>(v(),g(n($),{ref_key:"currentRef",ref:a,tabindex:"-1","as-child":l.asChild,as:l.as,onKeydown:d},{default:m(()=>[y(l.$slots,"default")]),_:3},8,["as-child","as"]))}}),tt=et;function ot(t){return t?"open":"closed"}var at=w({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,s=o,a=q(),{forwardRef:p,currentElement:f}=E();return a.titleId||=H(void 0,"reka-dialog-title"),a.descriptionId||=H(void 0,"reka-dialog-description"),re(()=>{a.contentElement=f,M()!==document.body&&(a.triggerElement.value=M())}),(c,i)=>(v(),g(n(tt),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:i[5]||(i[5]=d=>s("openAutoFocus",d)),onUnmountAutoFocus:i[6]||(i[6]=d=>s("closeAutoFocus",d))},{default:m(()=>[x(n(Fe),O({id:n(a).contentId,ref:n(p),as:c.as,"as-child":c.asChild,"disable-outside-pointer-events":c.disableOutsidePointerEvents,role:"dialog","aria-describedby":n(a).descriptionId,"aria-labelledby":n(a).titleId,"data-state":n(ot)(n(a).open.value)},c.$attrs,{onDismiss:i[0]||(i[0]=d=>n(a).onOpenChange(!1)),onEscapeKeyDown:i[1]||(i[1]=d=>s("escapeKeyDown",d)),onFocusOutside:i[2]||(i[2]=d=>s("focusOutside",d)),onInteractOutside:i[3]||(i[3]=d=>s("interactOutside",d)),onPointerDownOutside:i[4]||(i[4]=d=>s("pointerDownOutside",d))}),{default:m(()=>[y(c.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),ie=at,st=w({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,s=o,a=q(),p=Y(s),{forwardRef:f,currentElement:c}=E();return Ve(c),(i,d)=>(v(),g(ie,O({...e,...n(p)},{ref:n(f),"trap-focus":n(a).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:d[0]||(d[0]=l=>{l.defaultPrevented||(l.preventDefault(),n(a).triggerElement.value?.focus())}),onPointerDownOutside:d[1]||(d[1]=l=>{const r=l.detail.originalEvent,u=r.button===0&&r.ctrlKey===!0;(r.button===2||u)&&l.preventDefault()}),onFocusOutside:d[2]||(d[2]=l=>{l.preventDefault()})}),{default:m(()=>[y(i.$slots,"default")]),_:3},16,["trap-focus"]))}}),nt=st,rt=w({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,a=Y(o);E();const p=q(),f=B(!1),c=B(!1);return(i,d)=>(v(),g(ie,O({...e,...n(a)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:d[0]||(d[0]=l=>{l.defaultPrevented||(f.value||n(p).triggerElement.value?.focus(),l.preventDefault()),f.value=!1,c.value=!1}),onInteractOutside:d[1]||(d[1]=l=>{l.defaultPrevented||(f.value=!0,l.detail.originalEvent.type==="pointerdown"&&(c.value=!0));const r=l.target;n(p).triggerElement.value?.contains(r)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&c.value&&l.preventDefault()})}),{default:m(()=>[y(i.$slots,"default")]),_:3},16))}}),lt=rt,ut=w({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:o}){const e=t,s=o,a=q(),p=Y(s),{forwardRef:f}=E();return(c,i)=>(v(),g(n(ae),{present:c.forceMount||n(a).open.value},{default:m(()=>[n(a).modal.value?(v(),g(nt,O({key:0,ref:n(f)},{...e,...n(p),...c.$attrs}),{default:m(()=>[y(c.$slots,"default")]),_:3},16)):(v(),g(lt,O({key:1,ref:n(f)},{...e,...n(p),...c.$attrs}),{default:m(()=>[y(c.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),it=ut,dt=w({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(t){const o=t;E();const e=q();return(s,a)=>(v(),g(n($),O(o,{id:n(e).descriptionId}),{default:m(()=>[y(s.$slots,"default")]),_:3},16,["id"]))}}),ee=dt,ct=w({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=q();return xe(!0),E(),(e,s)=>(v(),g(n($),{as:e.as,"as-child":e.asChild,"data-state":n(o).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:m(()=>[y(e.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),ft=ct,pt=w({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=q(),{forwardRef:e}=E();return(s,a)=>n(o)?.modal.value?(v(),g(n(ae),{key:0,present:s.forceMount||n(o).open.value},{default:m(()=>[x(ft,O(s.$attrs,{ref:n(e),as:s.as,"as-child":s.asChild}),{default:m(()=>[y(s.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):C("v-if",!0)}}),vt=pt,mt=w({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const o=t;return(e,s)=>(v(),g(n(Pe),j(V(o)),{default:m(()=>[y(e.$slots,"default")]),_:3},16))}}),yt=mt,gt=w({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const o=t,e=q();return E(),(s,a)=>(v(),g(n($),O(o,{id:n(e).titleId}),{default:m(()=>[y(s.$slots,"default")]),_:3},16,["id"]))}}),te=gt,_t=w({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const o=t,e=q(),{forwardRef:s,currentElement:a}=E();return e.contentId||=H(void 0,"reka-dialog-content"),re(()=>{e.triggerElement.value=a.value}),(p,f)=>(v(),g(n($),O(o,{ref:n(s),type:p.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":n(e).open.value||!1,"aria-controls":n(e).open.value?n(e).contentId:void 0,"data-state":n(e).open.value?"open":"closed",onClick:n(e).onOpenToggle}),{default:m(()=>[y(p.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),ht=_t;const Bt={__name:"UModal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:[String,Object],required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(t,{emit:o}){const e=t,s=o,a=we(),{t:p}=$e(),f=Oe(),c=_e(Te(e,"open","defaultOpen","modal"),s),i=Me(G(()=>e.portal)),d=G(()=>e.content),l=L(()=>e.dismissible?{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((_,b)=>(_[b]=h=>{h.preventDefault(),s("close:prevent")},_),{})),r=L(()=>J({extend:J(Re),...f.ui?.modal||{}})({transition:e.transition,fullscreen:e.fullscreen}));return(u,_)=>(v(),g(n(ze),j(V(n(c))),{default:m(({open:b,close:h})=>[a.default?(v(),g(n(ht),{key:0,"as-child":"",class:A(e.class)},{default:m(()=>[y(u.$slots,"default",{open:b})]),_:2},1032,["class"])):C("",!0),x(n(yt),j(V(n(i))),{default:m(()=>[t.overlay?(v(),g(n(vt),{key:0,class:A(r.value.overlay({class:e.ui?.overlay}))},null,8,["class"])):C("",!0),x(n(it),O({class:r.value.content({class:[!a.default&&e.class,e.ui?.content]})},d.value,{onAfterEnter:_[0]||(_[0]=D=>s("after:enter")),onAfterLeave:_[1]||(_[1]=D=>s("after:leave"))},Ee(l.value)),{default:m(()=>[a.content&&(t.title||a.title||t.description||a.description)?(v(),g(n(Se),{key:0},{default:m(()=>[t.title||a.title?(v(),g(n(te),{key:0},{default:m(()=>[y(u.$slots,"title",{},()=>[S(I(t.title),1)])]),_:3})):C("",!0),t.description||a.description?(v(),g(n(ee),{key:1},{default:m(()=>[y(u.$slots,"description",{},()=>[S(I(t.description),1)])]),_:3})):C("",!0)]),_:3})):C("",!0),y(u.$slots,"content",{close:h},()=>[a.header||t.title||a.title||t.description||a.description||e.close||a.close?(v(),K("div",{key:0,class:A(r.value.header({class:e.ui?.header}))},[y(u.$slots,"header",{close:h},()=>[qe("div",{class:A(r.value.wrapper({class:e.ui?.wrapper}))},[t.title||a.title?(v(),g(n(te),{key:0,class:A(r.value.title({class:e.ui?.title}))},{default:m(()=>[y(u.$slots,"title",{},()=>[S(I(t.title),1)])]),_:3},8,["class"])):C("",!0),t.description||a.description?(v(),g(n(ee),{key:1,class:A(r.value.description({class:e.ui?.description}))},{default:m(()=>[y(u.$slots,"description",{},()=>[S(I(t.description),1)])]),_:3},8,["class"])):C("",!0)],2),y(u.$slots,"actions"),e.close||a.close?(v(),g(n(Ge),{key:0,"as-child":""},{default:m(()=>[y(u.$slots,"close",{ui:r.value},()=>[e.close?(v(),g(Ie,O({key:0,icon:t.closeIcon||n(f).ui.icons.close,color:"neutral",variant:"ghost","aria-label":n(p)("modal.close")},typeof e.close=="object"?e.close:{},{class:r.value.close({class:e.ui?.close})}),null,16,["icon","aria-label","class"])):C("",!0)])]),_:2},1024)):C("",!0)])],2)):C("",!0),a.body?(v(),K("div",{key:1,class:A(r.value.body({class:e.ui?.body}))},[y(u.$slots,"body",{close:h})],2)):C("",!0),a.footer?(v(),K("div",{key:2,class:A(r.value.footer({class:e.ui?.footer}))},[y(u.$slots,"footer",{close:h})],2)):C("",!0)])]),_:2},1040,["class"])]),_:2},1040)]),_:3},16))}};export{tt as F,Bt as _,Ve as a,xe as u};
