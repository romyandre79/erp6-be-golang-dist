import{bg as x,k as m,ad as p,aB as g}from"#entry";const h=Symbol("nuxt-ui.toast-max");function I(){const e=x("toasts",()=>[]),s=g(h,void 0),o=m(!1),u=[],i=()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`;async function l(){if(!(o.value||u.length===0)){for(o.value=!0;u.length>0;){const t=u.shift();await p(),e.value=[...e.value,t].slice(-(s?.value??5))}o.value=!1}}function c(t){const n={id:i(),open:!0,...t};return u.push(n),l(),n}function r(t,n){const a=e.value.findIndex(v=>v.id===t);a!==-1&&(e.value[a]={...e.value[a],...n})}function f(t){const n=e.value.findIndex(a=>a.id===t);n!==-1&&(e.value[n]={...e.value[n],open:!1}),setTimeout(()=>{e.value=e.value.filter(a=>a.id!==t)},200)}function d(){e.value=[]}return{toasts:e,add:c,update:r,remove:f,clear:d}}export{h as t,I as u};
