import{u as o}from"./C1AnPZyN.js";import{r as s}from"./DH2n3Tqk.js";function p(){const n=o(),a=s(!1);return{isLoading:a,fetchWidgets:async r=>{try{a.value=!0;const e=new FormData;e.append("flowname","getwidgetbymodule"),e.append("menu","admin"),e.append("search","true"),e.append("modulename",r);const t=await n.post("admin/execute-flow",e);if(t.code===200)return t}catch(e){console.error("Error fetching widgets",e)}finally{a.value=!1}},getWidgetForm:async r=>{try{a.value=!0;const e=new FormData;e.append("flowname","getwidgetname"),e.append("menu","admin"),e.append("search","true"),e.append("widgetname",r);const t=await n.post("admin/execute-flow",e);if(t.code==200)return t;throw new Error(t.message||$t("INVALID_CREDENTIAL"))}catch(e){throw console.error(e),new Error($t("INVALID_CREDENTIAL"))}finally{a.value=!1}}}}export{p as u};
